name = "effect-site"
main = "./workers/app.ts"
compatibility_date = "2025-12-30"
compatibility_flags = ["nodejs_compat"]

[[d1_databases]]
binding = "DB"
database_name = "effect-site-db"
database_id = "dda0c5b6-c508-492a-8b9c-f85efc3e0fd4"

[[kv_namespaces]]
binding = "CACHE"
id = "28ffe2354a8d43158592b036e22aa49a"

[ai]
binding = "AI"

# [[r2_buckets]]
# binding = "MEDIA"
# bucket_name = "effect-site-media"

[vars]
SITE_NAME = "effect.moe"
SITE_URL = "https://effect-site.openclaw-agent.workers.dev"
NOTION_DATABASE_ARTICLES = "304b802cb0c68148bb0cf1afaf06ff7d"
# OpenClaw Gateway chat endpoint URL (set via Tailscale Funnel or direct URL)
# Leave empty to use FAQ fallback mode only
CHAT_GATEWAY_URL = ""
PROMPT_GATEWAY_URL = "https://prompt-gateway.effectmoe.workers.dev"

# Cron trigger: warm cache every 5 minutes
[triggers]
crons = ["*/5 * * * *"]

[dev]
port = 8788

name = "effect-site"
main = "./workers/app.ts"
compatibility_date = "2025-12-30"
compatibility_flags = ["nodejs_compat"]

[[d1_databases]]
binding = "DB"
database_name = "effect-site-db"
database_id = "2c3064de-2029-4a98-9aa0-c914054d8c1f"

[[kv_namespaces]]
binding = "CACHE"
id = "d44d69f96be944ff9de936220c018d96"

[ai]
binding = "AI"

[vars]
SITE_NAME = "effect.moe"
SITE_URL = "https://effect-site.effectmoe.workers.dev"
NOTION_DATABASE_ARTICLES = "304b802cb0c68148bb0cf1afaf06ff7d"
# OpenClaw Gateway chat endpoint URL (set via Tailscale Funnel or direct URL)
# Leave empty to use FAQ fallback mode only
CHAT_GATEWAY_URL = ""
PROMPT_GATEWAY_URL = "https://prompt-gateway.effectmoe.workers.dev"

# Cron trigger: warm cache every 5 minutes
[triggers]
crons = ["*/5 * * * *"]

[dev]
port = 8788
